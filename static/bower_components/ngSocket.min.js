(function(){angular.module("ngSocket",[]).provider("$socket",a);function a(){var d;this.setUrl=b;this.getUrl=c;this.$get=["$rootScope",e];function b(f){d=f}function c(){return d}function e(l){var n;var i={addListener:f,on:f,once:g,removeListener:h,removeAllListeners:o,emit:k};return i;function m(){if(typeof n==="undefined"){if(d!=="undefined"){n=io.connect(d)}else{n=io.connect()}}}function j(p){return function(){if(p){var q=arguments;l.$apply(function(){p.apply(n,q)})}}}function f(p,q,r){m();if(arguments.length===2){q=null;r=arguments[1]}n.on(p,j(r));if(q!==null){q.$on("$destroy",function(){h(p,r)})}}function g(p,q){m();n.once(p,j(q))}function h(p,q){m();n.removeListener(p,j(q))}function o(p){m();n.removeAllListeners(p)}function k(p,q,r){m();n.emit(p,q,j(r))}}}})();